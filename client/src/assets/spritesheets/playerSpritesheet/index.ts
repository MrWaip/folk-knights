import { BaseTexture, Spritesheet } from "pixi.js";
import png from "./knight-anim.png";

const atlas = {
  frames: {
    "Attack 1-0.png": {
      frame: { x: 1, y: 498, w: 71, h: 65 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 0, y: 63, w: 71, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Attack 1-1.png": {
      frame: { x: 1, y: 1015, w: 61, h: 65 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 13, y: 63, w: 61, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Attack 1-2.png": {
      frame: { x: 1, y: 822, w: 66, h: 65 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 1, y: 63, w: 66, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Attack 1-3.png": {
      frame: { x: 90, y: 117, w: 35, h: 65 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 27, y: 63, w: 35, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Attack 1-4.png": {
      frame: { x: 1, y: 72, w: 87, h: 75 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 25, y: 53, w: 87, h: 75 },
      sourceSize: { w: 128, h: 128 },
    },
    "Attack 2-0.png": {
      frame: { x: 1, y: 336, w: 44, h: 76 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 14, y: 52, w: 44, h: 76 },
      sourceSize: { w: 128, h: 128 },
    },
    "Attack 2-1.png": {
      frame: { x: 1, y: 382, w: 45, h: 72 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 13, y: 56, w: 45, h: 72 },
      sourceSize: { w: 128, h: 128 },
    },
    "Attack 2-2.png": {
      frame: { x: 1, y: 1, w: 90, h: 69 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 15, y: 59, w: 90, h: 69 },
      sourceSize: { w: 128, h: 128 },
    },
    "Attack 2-3.png": {
      frame: { x: 1, y: 690, w: 68, h: 65 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 1, y: 63, w: 68, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Attack 3-0.png": {
      frame: { x: 69, y: 921, w: 50, h: 65 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 19, y: 63, w: 50, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Attack 3-1.png": {
      frame: { x: 73, y: 605, w: 51, h: 65 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 16, y: 63, w: 51, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Attack 3-2.png": {
      frame: { x: 1, y: 149, w: 87, h: 63 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 19, y: 65, w: 87, h: 63 },
      sourceSize: { w: 128, h: 128 },
    },
    "Attack 3-3.png": {
      frame: { x: 1, y: 214, w: 82, h: 60 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 19, y: 68, w: 82, h: 60 },
      sourceSize: { w: 128, h: 128 },
    },
    "Dead-0.png": {
      frame: { x: 68, y: 1120, w: 45, h: 59 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 13, y: 69, w: 45, h: 59 },
      sourceSize: { w: 128, h: 128 },
    },
    "Dead-1.png": {
      frame: { x: 67, y: 1474, w: 49, h: 46 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 6, y: 82, w: 49, h: 46 },
      sourceSize: { w: 128, h: 128 },
    },
    "Dead-2.png": {
      frame: { x: 90, y: 184, w: 47, h: 35 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 19, y: 93, w: 47, h: 35 },
      sourceSize: { w: 128, h: 128 },
    },
    "Dead-3.png": {
      frame: { x: 74, y: 501, w: 52, h: 34 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 19, y: 94, w: 52, h: 34 },
      sourceSize: { w: 128, h: 128 },
    },
    "Dead-4.png": {
      frame: { x: 93, y: 1, w: 56, h: 34 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 19, y: 94, w: 56, h: 34 },
      sourceSize: { w: 128, h: 128 },
    },
    "Dead-5.png": {
      frame: { x: 93, y: 59, w: 56, h: 34 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 32, y: 94, w: 56, h: 34 },
      sourceSize: { w: 128, h: 128 },
    },
    "Defend-0.png": {
      frame: { x: 1, y: 1600, w: 45, h: 61 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 16, y: 67, w: 45, h: 61 },
      sourceSize: { w: 128, h: 128 },
    },
    "Defend-1.png": {
      frame: { x: 1, y: 1506, w: 45, h: 62 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 14, y: 66, w: 45, h: 62 },
      sourceSize: { w: 128, h: 128 },
    },
    "Defend-2.png": {
      frame: { x: 65, y: 1522, w: 45, h: 62 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 14, y: 66, w: 45, h: 62 },
      sourceSize: { w: 128, h: 128 },
    },
    "Defend-3.png": {
      frame: { x: 1, y: 1553, w: 45, h: 62 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 14, y: 66, w: 45, h: 62 },
      sourceSize: { w: 128, h: 128 },
    },
    "Defend-4.png": {
      frame: { x: 64, y: 1619, w: 45, h: 61 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 16, y: 67, w: 45, h: 61 },
      sourceSize: { w: 128, h: 128 },
    },
    "Hurt-0.png": {
      frame: { x: 67, y: 1424, w: 48, h: 60 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 14, y: 68, w: 48, h: 60 },
      sourceSize: { w: 128, h: 128 },
    },
    "Hurt-1.png": {
      frame: { x: 65, y: 1569, w: 48, h: 61 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 14, y: 67, w: 48, h: 61 },
      sourceSize: { w: 128, h: 128 },
    },
    "Idle-0.png": {
      frame: { x: 1, y: 1129, w: 45, h: 65 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 11, y: 63, w: 45, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Idle-1.png": {
      frame: { x: 1, y: 1176, w: 45, h: 65 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 11, y: 63, w: 45, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Idle-2.png": {
      frame: { x: 1, y: 1223, w: 45, h: 65 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 11, y: 63, w: 45, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Idle-3.png": {
      frame: { x: 1, y: 1270, w: 45, h: 65 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 11, y: 63, w: 45, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Jump-0.png": {
      frame: { x: 73, y: 672, w: 51, h: 58 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 19, y: 70, w: 51, h: 58 },
      sourceSize: { w: 128, h: 128 },
    },
    "Jump-1.png": {
      frame: { x: 74, y: 537, w: 51, h: 66 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 16, y: 46, w: 51, h: 66 },
      sourceSize: { w: 128, h: 128 },
    },
    "Jump-2.png": {
      frame: { x: 79, y: 300, w: 48, h: 66 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 7, y: 46, w: 48, h: 66 },
      sourceSize: { w: 128, h: 128 },
    },
    "Jump-3.png": {
      frame: { x: 1, y: 429, w: 71, h: 67 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 3, y: 56, w: 71, h: 67 },
      sourceSize: { w: 128, h: 128 },
    },
    "Jump-4.png": {
      frame: { x: 1, y: 954, w: 66, h: 59 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 16, y: 69, w: 66, h: 59 },
      sourceSize: { w: 128, h: 128 },
    },
    "Jump-5.png": {
      frame: { x: 69, y: 856, w: 63, h: 58 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 30, y: 70, w: 63, h: 58 },
      sourceSize: { w: 128, h: 128 },
    },
    "Protect-0.png": {
      frame: { x: 1, y: 1647, w: 45, h: 61 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 16, y: 67, w: 45, h: 61 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run+Attack-0.png": {
      frame: { x: 1, y: 276, w: 58, h: 76 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 15, y: 52, w: 58, h: 76 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run+Attack-1.png": {
      frame: { x: 1, y: 565, w: 62, h: 70 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 18, y: 58, w: 62, h: 70 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run+Attack-2.png": {
      frame: { x: 68, y: 1054, w: 59, h: 64 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 16, y: 64, w: 59, h: 64 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run+Attack-3.png": {
      frame: { x: 1, y: 757, w: 67, h: 63 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 18, y: 65, w: 67, h: 63 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run+Attack-4.png": {
      frame: { x: 1, y: 889, w: 66, h: 63 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 10, y: 65, w: 66, h: 63 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run+Attack-5.png": {
      frame: { x: 1, y: 629, w: 70, h: 59 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 12, y: 69, w: 70, h: 59 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run-0.png": {
      frame: { x: 68, y: 1297, w: 50, h: 62 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 19, y: 66, w: 50, h: 62 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run-1.png": {
      frame: { x: 71, y: 732, w: 55, h: 60 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 0, y: 68, w: 55, h: 60 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run-2.png": {
      frame: { x: 68, y: 1167, w: 50, h: 63 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 0, y: 65, w: 50, h: 63 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run-3.png": {
      frame: { x: 74, y: 435, w: 53, h: 64 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 9, y: 64, w: 53, h: 64 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run-4.png": {
      frame: { x: 68, y: 1361, w: 50, h: 61 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 19, y: 67, w: 50, h: 61 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run-5.png": {
      frame: { x: 70, y: 794, w: 55, h: 60 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 0, y: 68, w: 55, h: 60 },
      sourceSize: { w: 128, h: 128 },
    },
    "Run-6.png": {
      frame: { x: 68, y: 1232, w: 50, h: 63 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 1, y: 65, w: 50, h: 63 },
      sourceSize: { w: 128, h: 128 },
    },
    "Walk-0.png": {
      frame: { x: 85, y: 233, w: 42, h: 65 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 12, y: 63, w: 42, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Walk-1.png": {
      frame: { x: 1, y: 1412, w: 45, h: 64 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 16, y: 64, w: 45, h: 64 },
      sourceSize: { w: 128, h: 128 },
    },
    "Walk-2.png": {
      frame: { x: 69, y: 988, w: 50, h: 64 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 14, y: 64, w: 50, h: 64 },
      sourceSize: { w: 128, h: 128 },
    },
    "Walk-3.png": {
      frame: { x: 1, y: 1078, w: 49, h: 65 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 13, y: 63, w: 49, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Walk-4.png": {
      frame: { x: 79, y: 368, w: 48, h: 65 },
      rotated: false,
      trimmed: true,
      spriteSourceSize: { x: 16, y: 63, w: 48, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Walk-5.png": {
      frame: { x: 1, y: 1459, w: 45, h: 64 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 14, y: 64, w: 45, h: 64 },
      sourceSize: { w: 128, h: 128 },
    },
    "Walk-6.png": {
      frame: { x: 1, y: 1317, w: 45, h: 65 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 13, y: 63, w: 45, h: 65 },
      sourceSize: { w: 128, h: 128 },
    },
    "Walk-7.png": {
      frame: { x: 1, y: 1364, w: 46, h: 64 },
      rotated: true,
      trimmed: true,
      spriteSourceSize: { x: 13, y: 64, w: 46, h: 64 },
      sourceSize: { w: 128, h: 128 },
    },
  },
  animations: {
    attacking: [
      "Attack 1-0.png",
      "Attack 1-1.png",
      "Attack 1-2.png",
      "Attack 1-3.png",
      "Attack 1-4.png",
    ],
    "Attack 2": [
      "Attack 2-0.png",
      "Attack 2-1.png",
      "Attack 2-2.png",
      "Attack 2-3.png",
    ],
    "Attack 3": [
      "Attack 3-0.png",
      "Attack 3-1.png",
      "Attack 3-2.png",
      "Attack 3-3.png",
    ],
    Dead: [
      "Dead-0.png",
      "Dead-1.png",
      "Dead-2.png",
      "Dead-3.png",
      "Dead-4.png",
      "Dead-5.png",
    ],
    Defend: [
      "Defend-0.png",
      "Defend-1.png",
      "Defend-2.png",
      "Defend-3.png",
      "Defend-4.png",
    ],
    Hurt: ["Hurt-0.png", "Hurt-1.png"],
    idle: ["Idle-0.png", "Idle-1.png", "Idle-2.png", "Idle-3.png"],
    jumping: [
      "Jump-0.png",
      "Jump-1.png",
      "Jump-2.png",
      "Jump-3.png",
      "Jump-4.png",
      // "Jump-5.png",
    ],
    running: [
      "Run-0.png",
      "Run-1.png",
      "Run-2.png",
      "Run-3.png",
      "Run-4.png",
      "Run-5.png",
      "Run-6.png",
    ],
    dashing: [
      "Run+Attack-0.png",
      "Run+Attack-1.png",
      "Run+Attack-2.png",
      "Run+Attack-3.png",
      "Run+Attack-4.png",
      "Run+Attack-5.png",
    ],
    walking: [
      "Walk-0.png",
      "Walk-1.png",
      "Walk-2.png",
      "Walk-3.png",
      "Walk-4.png",
      "Walk-5.png",
      "Walk-6.png",
      "Walk-7.png",
    ],
    landing: ["Jump-2.png", "Jump-3.png", "Jump-4.png", "Jump-5.png"],
    falling: ["Jump-2.png"],
  },
  meta: {
    app: "https://www.codeandweb.com/texturepacker",
    version: "1.1",
    image: "./knight-anim.png",
    format: "RGBA8888",
    size: { w: 128, h: 1693 },
    scale: "1",
    smartupdate:
      "$TexturePacker:SmartUpdate:e3ac293d5a8222408c6efeaa5516ad0b:9d013afffd9bfb54fd5bd7474b7c9af8:2e0fb7ad9856bd31c5d84f4e63b80968$",
  },
};

const spritesheet = new Spritesheet(BaseTexture.from(png), atlas);

let parsePromise: Promise<unknown>;

export const getPlayerSpritesheet = async () => {
  if (!parsePromise) parsePromise = spritesheet.parse();

  await parsePromise;

  return spritesheet;
};
